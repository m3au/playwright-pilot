#!/usr/bin/env sh

# Run unit tests first
echo "ğŸ§ª Running unit tests..."
if ! bun test; then
  echo "âŒ Unit tests failed. Please fix the errors above."
  exit 1
fi
echo "âœ… Unit tests passed!"

# Run lint-staged with better error handling
echo "ğŸ” Running pre-commit checks..."
if ! bunx lint-staged; then
  echo "âŒ Pre-commit checks failed. Please fix the errors above."
  exit 1
fi

echo "âœ… Pre-commit checks passed!"
